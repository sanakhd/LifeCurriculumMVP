{"openapi":"3.1.0","info":{"title":"LifeCurriculum","description":"Backend service for managing life curriculum activities","version":"1.0.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Check if the LifeCurriculum service is running and healthy.\n\nReturns:\n    HealthResponse: Service status information","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/ping":{"get":{"tags":["Health"],"summary":"Health Check","description":"Check if the LifeCurriculum service is running and healthy.\n\nReturns:\n    HealthResponse: Service status information","operationId":"health_check_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/v1/programs/generate-program":{"post":{"tags":["Programs","Programs"],"summary":"Generate Program Structure","description":"Generate a 5-day learning program structure with outline and metadata.\n\nThis endpoint creates the program skeleton including:\n- Program title and description\n- 5-day structured outline with learning objectives\n- Logical progression toward the target outcome\n- Context-appropriate content planning\n\nThe generated program can then be used with generate_lesson to create\nindividual lesson content, or generate_full_program for complete generation.","operationId":"generate_program_api_v1_programs_generate_program_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateProgramRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateProgramResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/{program_id}":{"get":{"tags":["Programs","Programs"],"summary":"Get Program By Id","description":"Fetch a single Program by its ID","operationId":"get_program_by_id_api_v1_programs__program_id__get","parameters":[{"name":"program_id","in":"path","required":true,"schema":{"type":"string","title":"Program Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Program By Id Api V1 Programs  Program Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/{program_id}/lessons/{day_number}":{"get":{"tags":["Programs","Programs"],"summary":"Get Single Lesson","operationId":"get_lesson_api_v1_programs__program_id__lessons__day_number__get","parameters":[{"name":"program_id","in":"path","required":true,"schema":{"type":"string","title":"Program Id"}},{"name":"day_number","in":"path","required":true,"schema":{"type":"integer","title":"Day Number"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs":{"get":{"tags":["Programs","Programs"],"summary":"List All Programs","description":"List saved Programs","operationId":"list_all_programs_api_v1_programs_get","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgramListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/generate-lesson":{"post":{"tags":["Programs","Programs"],"summary":"Generate Lesson","operationId":"generate_lesson_api_v1_programs_generate_lesson_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/generate-full-program":{"post":{"tags":["Programs","Programs"],"summary":"Generate Full Program","description":"Generates a complete program with all lessons in one request.\n\nThis endpoint will:\n1. Create the program skeleton using generate_program\n2. Generate all lessons using generate_lesson\n3. Optionally generate TTS audio for lessons with conversation chunks\n4. Return the complete program with all lessons and audio metadata\n\nAudio generation is enabled by default and will create TTS audio files\nfor any lessons that contain conversation chunks. Audio files are saved\nin the program_audios directory and organized by lesson ID.\n\nUses existing generate_program and generate_lesson functions for consistency.","operationId":"generate_full_program_api_v1_generate_full_program_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateFullProgramRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateFullProgramResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/generate-lesson-audio":{"post":{"tags":["Programs","Programs"],"summary":"Generate Lesson Audio","description":"Generate TTS audio for all conversation chunks in a lesson.\n\nThis endpoint will:\n1. Fetch the lesson data from the program store\n2. Generate TTS audio for each conversation chunk using different voices\n3. Save audio files in program_audios/{lesson_id}/ with UUID filenames\n4. Update lesson metadata with audio references\n5. Create a manifest.json file to track all generated audio\n\nAudio files are saved as WAV format and organized by lesson ID.\nIf audio already exists for a chunk, it will be skipped unless regeneration is forced.","operationId":"generate_lesson_audio_api_v1_programs_generate_lesson_audio_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonAudioRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonAudioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/lessons/{lesson_uuid}/audio-status":{"get":{"tags":["Programs","Programs"],"summary":"Check Lesson Audio Status","description":"Check the audio generation status for a specific lesson.\n\nThis endpoint returns information about whether audio has been generated\nfor the lesson, including file paths, manifest data, and generation metadata.","operationId":"get_lesson_audio_status_api_v1_programs_lessons__lesson_uuid__audio_status_get","parameters":[{"name":"lesson_uuid","in":"path","required":true,"schema":{"type":"string","title":"Lesson Uuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudioStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/lessons/{lesson_uuid}/audio":{"delete":{"tags":["Programs","Programs"],"summary":"Delete Lesson Audio","description":"Delete all generated audio files for a specific lesson.\n\nThis endpoint will:\n1. Delete all audio files from the lesson directory\n2. Remove the manifest.json file\n3. Clear audio metadata from the lesson chunks\n4. Remove the lesson audio directory if empty","operationId":"delete_lesson_audio_api_v1_programs_lessons__lesson_uuid__audio_delete","parameters":[{"name":"lesson_uuid","in":"path","required":true,"schema":{"type":"string","title":"Lesson Uuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAudioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/regenerate-lesson-audio":{"post":{"tags":["Programs","Programs"],"summary":"Regenerate Lesson Audio","description":"Force regeneration of audio for a lesson, even if audio already exists.\n\nThis endpoint first deletes any existing audio files, then generates new ones.\nUseful when you want to update voices or regenerate with different settings.","operationId":"regenerate_lesson_audio_api_v1_programs_regenerate_lesson_audio_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonAudioRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateLessonAudioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/available-voices":{"get":{"tags":["Programs","Programs"],"summary":"Get Available TTS Voices","description":"Get the list of available OpenAI TTS voices and default mappings.\n\nThis endpoint returns the voices that can be used for TTS generation\nand the default voice assignments for different hosts.","operationId":"get_available_voices_api_v1_programs_available_voices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/programs/lessons/ids":{"get":{"tags":["Programs","Programs"],"summary":"Get All Lesson IDs","description":"Get all lesson IDs from all programs in programs.jsonl","operationId":"get_all_lesson_ids_endpoint_api_v1_programs_lessons_ids_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonIdsResponse"}}}}}}},"/api/v1/programs/lessons/{lesson_uuid}/audio/{audio_id}/stream":{"get":{"tags":["Programs","Programs"],"summary":"Stream Lesson Audio","description":"Stream audio for a specific lesson and audio ID.\n\nThis endpoint streams the audio file directly to the client with proper\ncontent headers for audio playback. The audio is streamed in chunks to\nhandle large files efficiently.\n\nArgs:\n    lesson_uuid: UUID of the lesson containing the audio\n    audio_id: UUID of the specific audio file to stream\n    chunk_size: Size of streaming chunks in bytes (optional, default 8KB)\n\nReturns:\n    StreamingResponse: Audio file stream with appropriate headers\n    \nRaises:\n    404: If lesson, manifest, or audio file not found\n    500: If there's an error reading the audio file","operationId":"stream_lesson_audio_api_v1_programs_lessons__lesson_uuid__audio__audio_id__stream_get","parameters":[{"name":"lesson_uuid","in":"path","required":true,"schema":{"type":"string","title":"Lesson Uuid"}},{"name":"audio_id","in":"path","required":true,"schema":{"type":"string","title":"Audio Id"}},{"name":"chunk_size","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":8192,"title":"Chunk Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/lessons/{lesson_uuid}/audio/{audio_id}/info":{"get":{"tags":["Programs","Programs"],"summary":"Get Audio File Info","description":"Get metadata information for a specific audio file without streaming it.\n\nThis endpoint returns detailed information about an audio file including\nspeaker, voice used, duration, file size, and position in the conversation.\n\nArgs:\n    lesson_uuid: UUID of the lesson containing the audio\n    audio_id: UUID of the specific audio file\n\nReturns:\n    AudioStreamResponse: Detailed metadata about the audio file\n    \nRaises:\n    404: If lesson, manifest, or audio file not found\n    500: If there's an error reading the manifest","operationId":"get_audio_file_metadata_api_v1_programs_lessons__lesson_uuid__audio__audio_id__info_get","parameters":[{"name":"lesson_uuid","in":"path","required":true,"schema":{"type":"string","title":"Lesson Uuid"}},{"name":"audio_id","in":"path","required":true,"schema":{"type":"string","title":"Audio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudioStreamResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/lessons/{lesson_uuid}/audio/playlist":{"get":{"tags":["Programs","Programs"],"summary":"Get Audio Playlist for Lesson","description":"Get a playlist of all audio files for a lesson in conversation order.\n\nThis endpoint returns an ordered list of all audio files for a lesson,\nproviding URLs to stream each audio chunk in the correct conversation sequence.\nUseful for building audio players that can play the entire lesson conversation.\n\nArgs:\n    lesson_uuid: UUID of the lesson\n\nReturns:\n    Dictionary containing playlist information and streaming URLs\n    \nRaises:\n    404: If lesson directory or manifest not found\n    500: If there's an error reading the manifest","operationId":"get_lesson_audio_playlist_api_v1_programs_lessons__lesson_uuid__audio_playlist_get","parameters":[{"name":"lesson_uuid","in":"path","required":true,"schema":{"type":"string","title":"Lesson Uuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lessons/{lesson_id}/complete":{"post":{"tags":["Programs"],"summary":"Mark a lesson as completed","description":"Updates lesson status to completed and sets completion timestamp","operationId":"complete_lesson_api_v1_lessons__lesson_id__complete_post","parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"string","title":"Lesson Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteLessonRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteLessonResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lessons/{lesson_id}/start":{"post":{"tags":["Programs"],"summary":"Mark a lesson as started","description":"Updates lesson status to in_progress and sets start timestamp","operationId":"start_lesson_api_v1_lessons__lesson_id__start_post","parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"string","title":"Lesson Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/programs/lessons/{lesson_id}/evaluate-answer":{"post":{"tags":["Programs","Programs"],"summary":"Evaluate Lesson Answer","description":"Evaluate a user's response (reflection/slider/multiple_choice) and return gentle, educational feedback.","operationId":"evaluate_lesson_answer_api_v1_programs_lessons__lesson_id__evaluate_answer_post","parameters":[{"name":"lesson_id","in":"path","required":true,"schema":{"type":"string","title":"Lesson Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluateAnswerRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluateAnswerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AudioFileMetadata":{"properties":{"chunk_index":{"type":"integer","title":"Chunk Index","description":"Index of the conversation chunk"},"audio_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Id","description":"Unique identifier for the audio file"},"speaker":{"type":"string","title":"Speaker","description":"Speaker name (Host A, Host B, etc.)"},"voice":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voice","description":"OpenAI voice used for TTS"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path","description":"Path to the generated audio file"},"duration_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Seconds","description":"Duration of the audio in seconds"},"regenerated":{"type":"boolean","title":"Regenerated","description":"Whether this audio file was newly generated"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Error message if generation failed"}},"type":"object","required":["chunk_index","speaker","regenerated"],"title":"AudioFileMetadata","description":"Metadata for a generated audio file"},"AudioGenerationStats":{"properties":{"audio_generation_enabled":{"type":"boolean","title":"Audio Generation Enabled","description":"Whether audio generation was requested"},"lessons_with_audio":{"type":"integer","title":"Lessons With Audio","description":"Number of lessons that had audio generated","default":0},"audio_files_generated":{"type":"integer","title":"Audio Files Generated","description":"Total number of audio files generated","default":0},"audio_generation_time_seconds":{"type":"number","title":"Audio Generation Time Seconds","description":"Total time spent generating audio","default":0.0},"audio_errors":{"items":{"type":"string"},"type":"array","title":"Audio Errors","description":"Audio generation errors"}},"type":"object","required":["audio_generation_enabled"],"title":"AudioGenerationStats"},"AudioStatusResponse":{"properties":{"exists":{"type":"boolean","title":"Exists","description":"Whether audio files exist for this lesson"},"lesson_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Id","description":"ID of the lesson"},"has_conversation_chunks":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Conversation Chunks","description":"Whether lesson has conversation chunks"},"total_chunks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Chunks","description":"Total number of conversation chunks"},"manifest":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Manifest","description":"Manifest data if audio exists"},"audio_directory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audio Directory","description":"Path to audio directory"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Error message if any"}},"type":"object","required":["exists"],"title":"AudioStatusResponse","description":"Response model for audio status check"},"AudioStreamResponse":{"properties":{"lesson_uuid":{"type":"string","title":"Lesson Uuid","description":"UUID of the lesson"},"audio_id":{"type":"string","title":"Audio Id","description":"UUID of the audio file"},"speaker":{"type":"string","title":"Speaker","description":"Speaker name (Host A, Host B, etc.)"},"voice":{"type":"string","title":"Voice","description":"OpenAI voice used for TTS"},"duration_seconds":{"type":"integer","title":"Duration Seconds","description":"Duration of the audio in seconds"},"chunk_index":{"type":"integer","title":"Chunk Index","description":"Index of the conversation chunk"},"file_size_bytes":{"type":"integer","title":"File Size Bytes","description":"Size of the audio file in bytes"}},"type":"object","required":["lesson_uuid","audio_id","speaker","voice","duration_seconds","chunk_index","file_size_bytes"],"title":"AudioStreamResponse","description":"Response model for audio stream info"},"BaseResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["success","message","timestamp"],"title":"BaseResponse","description":"Base response model"},"CompleteLessonRequest":{"properties":{"time_spent_seconds":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Time Spent Seconds","description":"Total time spent on the lesson in seconds"},"completion_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completion Method","description":"How the lesson was completed (full/skipped/partial)","default":"full"},"user_rating":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"User Rating","description":"User's rating of the lesson (1-5)"}},"type":"object","title":"CompleteLessonRequest","description":"Request model for completing a lesson"},"CompleteLessonResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"lesson_id":{"type":"string","title":"Lesson Id"},"completed_at":{"type":"string","format":"date-time","title":"Completed At"},"previous_status":{"type":"string","title":"Previous Status"},"time_spent_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Spent Seconds"}},"type":"object","required":["success","message","timestamp","lesson_id","completed_at","previous_status","time_spent_seconds"],"title":"CompleteLessonResponse","description":"Response model for completing a lesson"},"ContextType":{"type":"string","enum":["home","driving","workout"],"title":"ContextType"},"DeleteAudioResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether the audio deletion was successful"},"lesson_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lesson Id","description":"ID of the lesson"},"deleted_files":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Deleted Files","description":"List of deleted file paths"},"files_deleted":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Files Deleted","description":"Number of files deleted"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Success message"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Error message if deletion failed"}},"type":"object","required":["success"],"title":"DeleteAudioResponse","description":"Response model for audio deletion"},"EvaluateAnswerRequest":{"properties":{"user_answer":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"User Answer"},"field_values":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Field Values","description":"Keyed by config.fields[].id for typed interactions"},"selected_option":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Selected Option"},"selected_order":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Order"},"selected_pairs":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Selected Pairs"},"slider_value":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Slider Value"}},"type":"object","title":"EvaluateAnswerRequest","description":"Unified request supporting all interaction types:\n- reflection_prompt / teach_back / self_explanation -> user_answer (str) OR field_values (dict[str,str])\n- multiple_choice                                   -> selected_option (str)\n- ordering_interaction                              -> selected_order (list[str])\n- matching_interaction                              -> selected_pairs (dict[str,str])"},"EvaluateAnswerResponse":{"properties":{"feedback":{"type":"string","title":"Feedback","description":"Educational feedback generated by OpenAI"},"lesson_title":{"type":"string","title":"Lesson Title","description":"Title of the lesson for context"},"prompt_text":{"type":"string","title":"Prompt Text","description":"The original prompt that was answered"},"evaluation_timestamp":{"type":"string","format":"date-time","title":"Evaluation Timestamp","description":"When the evaluation was performed"},"model_used":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Used","description":"OpenAI model used"}},"type":"object","required":["feedback","lesson_title","prompt_text"],"title":"EvaluateAnswerResponse"},"GenerateFullProgramRequest":{"properties":{"focus_area":{"type":"string","minLength":5,"title":"Focus Area","description":"User's one-sentence focus/goal area"},"target_outcome":{"type":"string","minLength":5,"title":"Target Outcome","description":"Concrete outcome for the week"},"context":{"$ref":"#/components/schemas/ContextType"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Optional model override for all generations"},"generate_audio":{"type":"boolean","title":"Generate Audio","description":"Whether to generate audio for lessons with conversation chunks","default":true},"voice_mapping":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Voice Mapping","description":"Custom voice assignments per host (e.g. {'Host A': 'alloy', 'Host B': 'echo'})"}},"type":"object","required":["focus_area","target_outcome","context"],"title":"GenerateFullProgramRequest"},"GenerateFullProgramResponse":{"properties":{"status":{"type":"string","title":"Status"},"program_id":{"type":"string","title":"Program Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"outline":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Outline"},"lessons":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Lessons"},"generation_stats":{"$ref":"#/components/schemas/GenerationStats"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["status","program_id","title","description","outline","lessons","generation_stats","timestamp"],"title":"GenerateFullProgramResponse"},"GenerateLessonAudioRequest":{"properties":{"lesson_uuid":{"type":"string","title":"Lesson Uuid","description":"UUID of the lesson to generate audio for"},"voice_mapping":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Voice Mapping","description":"Custom voice assignments per host (e.g. {'Host A': 'alloy', 'Host B': 'echo'})"}},"type":"object","required":["lesson_uuid"],"title":"GenerateLessonAudioRequest","description":"Request model for generating lesson audio"},"GenerateLessonAudioResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether the audio generation was successful"},"lesson_id":{"type":"string","title":"Lesson Id","description":"ID of the lesson that had audio generated"},"audio_files":{"items":{"$ref":"#/components/schemas/AudioFileMetadata"},"type":"array","title":"Audio Files","description":"Metadata for all audio files"},"total_duration_seconds":{"type":"integer","title":"Total Duration Seconds","description":"Total duration of all audio files"},"files_generated":{"type":"integer","title":"Files Generated","description":"Number of audio files newly generated"},"files_total":{"type":"integer","title":"Files Total","description":"Total number of conversation chunks"},"manifest_path":{"type":"string","title":"Manifest Path","description":"Path to the manifest file"}},"type":"object","required":["success","lesson_id","audio_files","total_duration_seconds","files_generated","files_total","manifest_path"],"title":"GenerateLessonAudioResponse","description":"Response model for lesson audio generation"},"GenerateLessonIn":{"properties":{"program_id":{"type":"string","title":"Program Id","description":"Existing Program ID returned by setup-lesson"},"day_number":{"type":"integer","minimum":1.0,"title":"Day Number","description":"Which day to generate (1-based)"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Optional model override"}},"type":"object","required":["program_id","day_number"],"title":"GenerateLessonIn"},"GenerateLessonOut":{"properties":{"success":{"type":"boolean","title":"Success"},"program_id":{"type":"string","title":"Program Id"},"day_number":{"type":"integer","title":"Day Number"},"lesson_id":{"type":"string","title":"Lesson Id"}},"type":"object","required":["success","program_id","day_number","lesson_id"],"title":"GenerateLessonOut"},"GenerateProgramRequest":{"properties":{"focus_area":{"type":"string","minLength":5,"title":"Focus Area","description":"User's one-sentence focus/goal area"},"target_outcome":{"type":"string","minLength":5,"title":"Target Outcome","description":"Concrete outcome for the week"},"context":{"$ref":"#/components/schemas/ContextType"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt"}},"type":"object","required":["focus_area","target_outcome","context"],"title":"GenerateProgramRequest"},"GenerateProgramResponse":{"properties":{"program_id":{"type":"string","title":"Program Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"outline":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Outline"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["program_id","title","description","outline","timestamp"],"title":"GenerateProgramResponse"},"GenerationStats":{"properties":{"program_generation_time_seconds":{"type":"number","title":"Program Generation Time Seconds"},"lesson_generation_times_seconds":{"items":{"type":"number"},"type":"array","title":"Lesson Generation Times Seconds"},"total_time_seconds":{"type":"number","title":"Total Time Seconds"},"lessons_generated":{"type":"integer","title":"Lessons Generated"},"errors_encountered":{"items":{"type":"string"},"type":"array","title":"Errors Encountered"},"audio_stats":{"$ref":"#/components/schemas/AudioGenerationStats"}},"type":"object","required":["program_generation_time_seconds","lesson_generation_times_seconds","total_time_seconds","lessons_generated","audio_stats"],"title":"GenerationStats"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","default":"healthy"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"service":{"type":"string","title":"Service","default":"LifeCurriculum"},"version":{"type":"string","title":"Version","default":"1.0.0"}},"type":"object","required":["timestamp"],"title":"HealthResponse","description":"Health check response model"},"LessonIdsResponse":{"properties":{"lesson_ids":{"items":{"type":"string"},"type":"array","title":"Lesson Ids"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["lesson_ids","count"],"title":"LessonIdsResponse"},"ProgramListResponse":{"properties":{"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"offset":{"type":"integer","title":"Offset"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["items","offset","limit"],"title":"ProgramListResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}